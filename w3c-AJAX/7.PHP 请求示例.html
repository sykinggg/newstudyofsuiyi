<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>AJAX ASP/PHP请求示例</title>
	</head>
	<body>
		<h1>AJAX ASP/PHP请求示例</h1>

		<p>AJAX 用于创造动态性更强的应用程序</p>

		<h2>实例解释 - showHint() 函数</h2>
		<p>当用户在上面的输入框中键入字符时，会执行函数 "showHint()" </p>
		<p>该函数由 "onkeyup" 事件触发</p>
		<script>
			function showHint(str) {
				var xmlHttp;
				if(str.length==0) {
					document.getElementById("txtHint").innerHTML="";
					return;
				}
				if(window.XMLHttpRequest){
					xmlHttp = new XMLHttpRequest();
				}else{
					xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
				}
				xmlhttp.onreadystatechange=function(){
					if (xmlhttp.readyState==4 && xmlhttp.status==200){
						document.getElementById("txtHint").innerHTML=xmlhttp.responseText;
					}
				}
				xmlhttp.open("GET","gethint.asp?q="+str,true);
				xmlhttp.send();
			}
		</script>
		<h3>代码描述</h3>
		<p>如果输入框为空 (str.length==0)，则该函数清空 txtHint 占位符的内容，并退出函数</p>
		<p>如果输入框不为空，showHint() 函数执行以下任务</p>
		<ul>
			<li>创建 XMLHttpRequest 对象</li>
			<li>当服务器响应就绪时执行函数</li>
			<li>把请求发送到服务器上的文件</li>
			<li>请注意我们向 URL 添加了一个参数 q （带有输入框的内容）</li>
		</ul>
	</body>
</html>