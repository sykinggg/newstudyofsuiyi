<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Rx 基本概念</title>
		<script src="dist/rx.all.min.js"></script>
		<style>
			.ez-led{
			  font-size : 40px;
			  background : #70d355;
			  width: 300px;
			  height:60px;
			  line-height : 60px;
			  text-align : right;
			  padding : 10px;
			  letter-spacing:5px;
			}
		</style>
	</head>
	<body>
		<div class="ez-led" id="clock"></div>

		<h2>通过时钟实例解读RxJs</h2>
		<p>在页面加载完成后就启动一个 定时器，每次定时器激活就读取当前时间并更新DOM对象的内容</p>
		<p>程序结构</p>
		<ul>
			<li>
				<p>1.数据</p>
				<p>数据: 当前时间</p>
			</li>
			<li>
				<p>2.数据提供者/Provider</p>
				<p>数据提供者就是那个定时器，它以每秒1次的频率生成新 的数据 —— 当前时间</p>
			</li>
			<li>
				<p>3.数据消费者/Consumer</p>
				<p>数据消费者就是用户界面 —— 一个简单的DOM对象DIV， 我们在数据生成后立即更新了用户界面</p>
			</li>
		</ul>
	</body>
	<script>
		window.onload = function() {
			var elClock = document.getElementById("clock");
			var getTime = function() {
				var _ = ['01', '02', '03', '04', '05', '06', '07', '08', '09'],
					d = new Date(), h = d.getHours(), m = d.getMinutes(), s = d.getSeconds();
				return [_[h]||h,_[m]||m,_[s]||s].join(':');
			};
			setInterval(function() {
				elClock.textContent = getTime();
			}, 1000);
		}
	</script>
</html>