<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>表达式和运算符</title>
  </head>
  <body>
    <h1>表达式</h1>
    <p>
      表达式是指能计算出值的任何可用程序单元
      表达式是一种js短语可以使js解释器产生一个值
    </p>


    <h2>原始表达式</h2>
    <pre>
      常量,直接量 : 3.14, "test"
      关键字 : null, this, true, false
      变量 : i, k, j（自定义变量）
      注意: 10 * 20 (复合表达式)
    </pre>


    <h2>数组对象初始化表达式</h2>
    <pre>
      [1, 2]          new Array(1, 2);
      [1, , , 4]      [1, undefined, undefined, 4]
      {x: 1. y: 2}    var o = new Object();
                      o.x = 1; o.y = 2;
    </pre>


    <h2>函数表达式</h2>
    <script type="text/javascript">
      (function() {console.log("Hello, World!");})();
    </script>
    <pre>
      var fe = function() {};
      (function(){console.log('hello World');})();
    </pre>


    <h2>属性访问表达式</h2>
    <script type="text/javascript">
      var o = {x: 1};
      console.log(o.x);
      console.log(o['x']);
    </script>
    <pre>
      var o = {x: 1};
      o.x
      o['x']
    </pre>



    <h2>调用表达式</h2>
    <pre>
      func(); 函数名加括号代表调用执行
    </pre>


    <h2>对象创建表达式</h2>
    <pre>
      new Func(1, 2);
      new Object();
      new 后面接一个构造器或者函数
    </pre>

    <h1>表达试总结</h1>
    <pre>
      原始表达式
      初始化表达式
      函数表达式
      属性访问表达式
      调用表达式
      对象创建表达式
    </pre>










  <h1>运算符</h1>

  <p>
    按操作数分
  </p>
  <pre>
    一元      +num
    二元      a + b
    三元      c ? a : b c的结果为真返回值取a反之取b
  </pre>

  <p>
    按功能分
  </p>
  <pre>
    赋值      x += 1; 运算顺序从右到左
    比较      a == b; 隐式转换
    算术      a - b;  隐式转换
    位        a | b;
    逻辑      exp1 && exp2
    字符串    "a" + "b"
    特殊      delete obj.x
  </pre>



  <h1>特殊运算符</h1>







  <h2>条件运算符</h2>
  <p>
    运算符?:
  </p>
  <script type="text/javascript">
    var val = true ? 1 : 2;
    console.log(val);
  </script>
  <pre>
    c ? a : b
    var val = true ? 1 : 2;
  </pre>







  <h2>逗号运算符</h2>
  <p>
    运算符,
  </p>
  <span>从左到右依次去计算表达式的值</span>
  <script type="text/javascript">
    var val = (1, 2, 3);
    console.log(val);
  </script>
  <pre>
    a, b
    var val = (1, 2, 3);
  </pre>







  <h2>delete运算符</h2>
  <p>
    运算符 delete
  </p>
  <span>仅能删除对象上的属性</span>
  <h3>注意:无法删除对象</h3>
  <script type="text/javascript">
    var obj = {x : 1};
    console.log(obj.x);
    // 1
    delete obj.x;
    console.log(obj.x);
    // undefined

    /*
      ie9及以上的浏览器版本支持
    */
    var obj = {};
    Object.defineProperty(obj, 'x', {
      confingurable: false,
      /*
        注意:confingurable属性为true时才能被delete操作
            也就是说confingurable属性为false时delete操作会返回false
      */
      value: 1
    });
    delete obj.x;
    console.log(delete obj.x);
    // false
    console.log(obj.x);
    // 1
  </script>







  <h2>in 运算符</h2>
  <p>
    运算符 in
  </p>
  <script type="text/javascript">
    window.x = 1;
    console.log('x' in window);
    // true
    var y = 1;
    console.log('y' in window);
    // true
    // 注意:这两种似乎是一样的
  </script>






  <h2>判断值类型的内置运算符 typeof instanceof</h2>
  <p>
    {} instanceof Object
  </p>
  <p>
    判断对象是否在原型链上继承于Object(构造函数)
    不同window无法判断(iframe)
  </p>
  <p>
    typeof 100 === "nummber"
  </p>
  <p>
    判断后面的值的数据类型(数组无法判断)
  </p>






  <h2>new 运算符</h2>
  <span>实例化构造函数</span>
  <script type="text/javascript">
    function Foo() {};
    Foo.prototype.x = 1;
    var obj = new Foo();
    console.log(obj);
    console.log(obj.x);
    // 1
    // 注意:hasOwnProperty可以判断属性名称是该对象上的还是原型链上的
    console.log(obj.hasOwnProperty('x'));
    // false
    // __proto__则表示是属于对象原型上的属性
    console.log(obj.__proto__.hasOwnProperty('x'));
    // true
  </script>






  <h2>this 运算符</h2>
  <script type="text/javascript">
    console.log("this 运算符");
    this;//window(浏览器)
    console.log(this);
    // window
    console.log(window);
    // window
    console.log(this === window);
    // true

    var obj = {
      func: function(){return this;}
    };
    console.log(obj.func());
    // object
    // func: function(){return this;}
  </script>







  <h2>void 运算符</h2>
  <span>一元运算符,无论操作数是多少都会返回undefined</span>
  <script type="text/javascript">
    console.log("void 运算符");
    console.log(void 0);
    // undefined
    console.log(void(0));
    // undefined
  </script>
  </body>
</html>
