<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>属性操作</title>
  </head>
  <body>
    <h1>属性操作</h1>
    <pre>
      读写对象属性
        属性异常
        删除属性
        检测属性
        枚举属性
    </pre>





    <h2>属性读写</h2>
    <pre>
      var obj = {x: 1, y: 2};
      obj.x; //1
      obj['y']; //2

      obj["x"] = 3;
      obj.y = 4;

      有一定规律的复杂对象对其属性的枚举
      var obj = {x1: 1, x2: 2};
      var i = 1, n = 2;

      for(; i <= n; i++) {
        console.log(obj['x' + i]);
      }
      //输出: 1, 2

      var p;
      for(p in obj) {
        console.log(obj[p]);
      }

      /*
        注意: 如果用for in来遍历的话可能会把该对象继承于原型上的属性遍历出来,并且顺序是不确定的
      */
    </pre>




    <h2>属性读写-异常</h2>
    <script type="text/javascript">
      console.log("属性读写-异常");
      var obj = {x: 1};
      console.log(obj.y);

    </script>
    <pre>
      var obj = {x: 1};
      obj.y; // undefined
      var yz = obj.y.z; // TypeError: Cannot read property "z" of undefined
      obj.y.z = 2; // TypeError: cannot read property "z" of undefined


      var yz;
      if(obj.y) {
        yz = obj.y.z;
      }


      也可以使用连接符&&
      var yz = obj&&obj.y&&obj.y.z;

      执行流程:从obj开始是否为undefined然后依次向右执行,如果都能执行,即没有错误则会返回
            最终结果并赋值给yz
    </pre>





    <h2>属性删除</h2>
    <script type="text/javascript">
      console.log("属性删除");
      var person = {age: 28, title: 'fe'};
      console.log(delete person.age);
      // true
      /*
        注意:在console中的代码也会执行
      */
      console.log(delete preson['title']);
      // true
      console.log(person.age);
      // undefined
      console.log(delete preson.age);
      // true
      /*
        注意:
      */


      console.log(delete Object.prototype);
      // false


      var descriptor = Object.getOwnPropertyDescriptor(Object, 'prototype');
    </script>
  </body>
</html>
