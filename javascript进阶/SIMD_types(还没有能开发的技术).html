<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>SIMD types</title>
	</head>
	<body>
		<h1>SIMD types</h1>
		<p>可以在支持的CPU上使用SIMD/SSE指令</p>
		<p>SIMD是Single Instruction/Multiple Data的缩写</p>
		<p>SIMD操作使用单个指令操作多组数据</p>
		<p>标量操作(SISD)每个指令只会操作一组数据</p>

		<h2>SIMD的优点</h2>
		<p>使用单指令处理数据集会极大的提升应用的性能</p>
		<p>具体的提升效果取决于你的数据集（矢量对象、封装数据）的大小或是其他参数</p>


		<h2>适用领域</h2>
		<p>SIMD指令早已广泛应用于3D图像处理、音视频、物理计算、加密及其它领域</p>


		<h2>SIMD的缺点</h2>
		<p>当算法要分别处理不同的数据时，数据集中的不同数据并不能被区分处理</p>
		<h3>后续拓展</h3>
		<p>如何使用蒙板以及如何将数据重新对齐来解决这一问题</p>
		
		<h2>MIMD技术</h2>
		<p>共享内存或进程优先级排列允许全面的并行处理（MIMD）</p>
		<p>使用这些技术可以更轻松的为进程排序</p>
		<h3>MIMD和SIMD的结合</h3>
		<p>概念同样可以使用在SIMD上</p>
		<p>可以想象在你程序中的每个进程中都是用SIMD指令</p>










		<h1>SIMD在JavaScript中的应用</h1>
		<p>JavaScript SIMD API 包含几种新的数据类型和操作指令，允许你通过JavaScript使用SIMD指令</p>
		<p>浏览器根据底层硬件针对这些API为用户提供了经过高度优化的方法</p>
		<h3>实际示例</h3>
		<p>一个SIMD的数据类型，例如SIMD.Float32x4</p>
		<p>一个SIMD矢量对象包涵大量的单元数据，它们被称为通道</p>
		<p>一个针对当前API的SIMD寄存器宽度为128bit</p>
		<p>当一个矢量的宽度是4（X4）时，寄存器内有4个Float32数据，它们的通道名为x,y,z,w</p>
		<h3>SIMD的扩展</h3>
		<p>相比于对每个对象操作4次，SIMD允许你同时对四个通道进行操作</p>

		<p>如图SISD与优化后的SIMD</p>
		<img src="img/SISD.png" alt="">
		<img src="img/SIMD.png" alt="">

		<p>标量 / SSID 代码示范</p>
		<script>
			var a = [1, 2, 3, 4];
			var b = [5, 6, 7, 8];
			var c = [];

			c[0] = a[0] + b[0];
			c[1] = a[1] + b[1];
			c[2] = a[2] + b[2];
			c[3] = a[3] + b[3];

			console.log(c);
			// [6, 8, 10, 12]
			console.log(b);
			// [5, 6, 7, 8]
			console.log(a);
			// [1, 2, 3, 4]
		</script>

		<p>现在使用 SIMD</p>
		<script>
			console.log(SIMD);
			console.log(SIMD.Float32x4);
			var a = SIMD.Float32x4(1, 2, 3, 4);
			console.log(a);
			var b = SIMD.Float32x4(5, 6, 7, 8);
			console.log(b);
			var c = SIMD.Float32x4.add(a,b);
			console.log(c);
		</script>
	</body>
</html>