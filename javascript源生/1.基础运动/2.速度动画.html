<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>速度动画</title>
		<style>
			* {
				margin: 0;
				padding: 0;
			}
			#container {
				height: 200px;
				width: 200px;
				position: relative;
				left: -200px;
				background-color: #6effcd;
			}
			#bth {
				height: 60px;
				width: 30px;
				position: absolute;
				left: 200px;
				top: 75px;
				background-color: #73eeff;
			}
		</style>
	</head>
	<body>
		<h1>速度动画</h1>
		<h2>实现思路:</h2>
		<p>每次均匀的改变left值，达到匀速的效果</p>
		<h3>效果</h3>
		<img src="../img/c1_3.gif" alt="" />
		<h2>实现步骤</h2>
		<p>对btn元素的绑定事件</p>
		<script>
//			window.onload = function(){
//				var container = document.getElementById('container');
//				var btn = document.getElementById('btn');
//				btn.onclick = function(){
//					if(container.offsetLeft==-200){
//						moveOut();
//					}else{
//						moveBack();
//					}
//				};
//			};
		</script>
		<h3>编写moveOut()函数</h3>
		<h4>setInterval()方法会不停的按周期调用函数,直到clearInterval()被调用或窗口被关闭.</h4>
		<h4>由setInterval()返回的ID值可用于clearInterval()方法的参数</h4>
		<h4>container.offsetLeft的使用</h4>
		<p>container.offsetLeft可以获取到当前container元素的left值</p>
		<script>
//			var timer = null;
//			function moveOut() {
//				clearInterval(timer);
//				timer=setInterval(function(){
//					if(container.offsetLeft == 0){
//						clearInterval(timer);
//					}else{
//						container.style.left = container.offsetLeft+10+'px';
//					}
//				}, 30);
//			}
		</script>
		<h1>真实案例</h1>
		<div id="container">
			<div id="btn"></div>
		</div>
		<script>
			window.onload = function(){
				var container = document.getElementById('container');
				var btn = document.getElementById('btn');
				btn.onclick = function(){
					if(container.offsetLeft==-200){
						moveOut();
					}else{
						moveBack();
					}
				};
			};
			var timer = null;
			function moveOut(){
				clearInterval(timer);
				timer=setInterval(function(){
					if(container.offsetLeft==0){
						clearInterval(timer);
					}else{
						container.style.left=container.offsetLeft+10+'px';
					}
				}, 30);
			}
			function moveBack(){
				clearInterval(timer);
				timer=setInterval(function(){
					if(container.offsetLeft==-200){
						clearInterVal(timer);
					}else{
						container.style.left=container.offsetLeft-10+'px';
					}
				}, 30);
			}
		</script>
	</body>
</html>
